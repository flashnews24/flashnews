<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>فلاش نيوز | أخبار عاجلة لحظة بلحظة</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Cairo', sans-serif;
      background-color: #f4f4f4;
      color: #222;
    }
    header {
      background: linear-gradient(90deg, #5a2a82, #36d7b7);
      color: white;
      text-align: center;
      padding: 40px 20px 20px;
    }
    header img {
      height: 80px;
      margin-bottom: 10px;
    }
    nav {
      display: flex;
      justify-content: center;
      background-color: white;
      padding: 10px 0;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    nav a {
      color: #5a2a82;
      text-decoration: none;
      margin: 0 15px;
      font-weight: bold;
    }
    .container {
      max-width: 900px;
      margin: 30px auto;
      padding: 0 20px;
    }
    .rss-container {
      padding: 20px;
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.08);
      margin-bottom: 30px;
    }
    .rss-item + .rss-item {
      margin-top: 15px;
      padding-top: 10px;
      border-top: 1px dashed #ccc;
    }
    .rss-item a {
      color: #333;
      font-weight: bold;
      text-decoration: none;
    }
    h3 {
      color: #4a148c;
    }
    small {
      display: block;
      color: #666;
      margin-top: 3px;
    }
  </style>
</head>
<body>

<header>
  <img src="logo.png" alt="شعار فلاش نيوز" />
  <h1>فلاش نيوز</h1>
</header>

<nav>
  <a href="#">الرئيسية</a>
  <a href="#">أخبار عاجلة</a>
  <a href="#">محلي</a>
  <a href="#">عالمي</a>
  <a href="#">اقتصاد</a>
  <a href="#">رياضة</a>
  <a href="#">تكنولوجيا</a>
</nav>

<div class="container">
  <section class="rss-container">
    <h2>🌍 آخر الأخبار من القنوات العالمية:</h2>
    <div id="rss-news">
      <p>جاري تحميل الأخبار...</p>
    </div>
  </section>
</div>

<script>
  const sources = [
    {
      name: "الجزيرة",
      lang: "ar",
      url: "https://api.rss2json.com/v1/api.json?rss_url=https://www.aljazeera.net/aljazeera/rss"
    },
    {
      name: "BBC Arabic",
      lang: "ar",
      url: "https://api.rss2json.com/v1/api.json?rss_url=http://www.bbc.co.uk/arabic/index.xml"
    },
    {
      name: "سكاي نيوز عربية",
      lang: "ar",
      url: "https://api.rss2json.com/v1/api.json?rss_url=https://www.skynewsarabia.com/web/rss/latest"
    },
    {
      name: "CNN International (English)",
      lang: "en",
      url: "https://api.rss2json.com/v1/api.json?rss_url=http://rss.cnn.com/rss/edition.rss"
    },
    {
      name: "Reuters (English)",
      lang: "en",
      url: "https://api.rss2json.com/v1/api.json?rss_url=http://feeds.reuters.com/reuters/topNews"
    }
  ];

  async function loadAllNews() {
    const container = document.getElementById('rss-news');
    container.innerHTML = "";

    for (const source of sources) {
      try {
        const res = await fetch(source.url);
        const data = await res.json();
        const block = document.createElement("div");
        block.innerHTML = `<h3>📡 ${source.name}</h3>`;

        data.items.slice(0, 5).forEach(item => {
          const div = document.createElement("div");
          div.className = "rss-item";

          let translated = "";
          if (source.lang === "en") {
            translated = simpleTranslate(item.title);
          }

          div.innerHTML = `
            <a href="${item.link}" target="_blank">🔗 ${item.title}</a>
            ${translated ? `<small>📝 ${translated}</small>` : ""}
          `;
          block.appendChild(div);
        });

        container.appendChild(block);
      } catch (err) {
        const fail = document.createElement("p");
        fail.textContent = `⚠️ تعذر تحميل أخبار ${source.name}`;
        container.appendChild(fail);
      }
    }
  }

  function simpleTranslate(text) {
    const dictionary = {
      "breaking": "عاجل",
      "explosion": "انفجار",
      "president": "رئيس",
      "election": "انتخابات",
      "attack": "هجوم",
      "earthquake": "زلزال",
      "killed": "مقتول",
      "dead": "وفاة",
      "injured": "مصاب",
      "fire": "حريق",
      "storm": "عاصفة",
      "weather": "طقس",
      "protest": "احتجاج",
      "conflict": "نزاع",
      "deal": "اتفاق",
      "new": "جديد",
      "covid": "كورونا",
      "economy": "اقتصاد",
      "market": "سوق"
    };

    let words = text.toLowerCase().split(" ");
    let translatedWords = words.map(word => dictionary[word] || "").filter(Boolean);
    return translatedWords.length ? translatedWords.join(" - ") : "ترجمة غير متوفرة";
  }

  window.onload = loadAllNews;
</script>

</body>
</html>
